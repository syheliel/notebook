# 基本 ATPCS
- 基本ATPCS规定了在子程序调用时的一些基本规则，支持：
各寄存器的使用规则及其相应的名称
数据栈的使用规则
参数传递的规则
- 不支持
ARM程序和Thumb程序相互调用
数据以及代码的位置无关的支持
子程序的可重入性
数据栈检查的支持

# 寄存器的使用规则
子程序间通过寄存器r0－r3来传递参数
在子程序中，使用寄存器r4－r11来保存局部变量
寄存器r12用作子程序间scratch寄存器，记作ip
寄存器r13用作数据栈指针，记作sp
寄存器r14用作连接寄存器，记作lr
寄存器r15用作程序计数器，记作pc

# 数据栈使用规则
栈指针可以指向不同的位置，数据栈的增长方向也可以不同，有4种数据栈：
FD---Full Descending
ED---Empty Descending
FA---Full Ascending
EA---Empty Ascending
ATPCS规定数据栈为FD类型，并且对数据栈的操作是8字节对齐的。

# 子程序结果返回规则
结果为一个32位的整数时，可以通过寄存器r0返回；
结果为一个64位的整数时，可以通过寄存器r0和r1返回，依次类推；
结果为一个浮点数时，可以通过浮点运算部件的寄存器f0、d0或者s0来返回；
结果为复合型的浮点数（如复数）时，可以通过寄存器f0－fN或者d0－dN来返回；
对于位数更多的结果，需要通过内存来传递。

# 支持数据栈限制检查的ATPCS
在进行数据栈的检查时，使用寄存器r10作为数据栈限制指针，这是寄存器r10记作sl，用户在 程序中不能控制该寄存器。
